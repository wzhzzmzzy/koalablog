---
import Layout from '@/layouts/home.astro'
import { MarkdownSource } from '@/lib/prisma'
import { readPreset } from '@/lib/prisma/markdown'
import { marked } from 'marked'

const env = Astro.locals.runtime.env
const presetSource = await readPreset(env, [MarkdownSource.Home])
const markup = presetSource.map(i => marked(i.content ?? ''))
---

<Layout>
  {
    markup.map(i => <Fragment set:html={i} />)
  }
</Layout>
