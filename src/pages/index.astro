---
import { MarkdownSource } from '@/db'
import { readPreset } from '@/db/markdown'
import Layout from '@/layouts/home.astro'
import { md } from '@/lib/markdown'

const env = Astro.locals.runtime?.env || {}
const presetSource = await readPreset(env, MarkdownSource.Home)
const markup = await md().renderAsync(presetSource?.content ?? '')
---

<Layout>
  <Fragment set:html={markup} />
</Layout>
